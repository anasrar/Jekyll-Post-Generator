"use strict";let win=window,doc=document,find=function(e){return doc.querySelectorAll(e)};doc.addEventListener("DOMContentLoaded",function(){$(".toast").toast({delay:2e3});let e=find("#title")[0],t=find("#desc")[0],n=find("#date")[0],a=find("#image")[0],i=find("#categories")[0],l=find("#tags")[0],o=find("#preview")[0],d=find("#editor")[0],r=find("#download")[0],s=find("#save")[0],u=window.markdownit();o.style.height=d.offsetHeight+"px",function(){let r;if(localStorage.getItem("post")){let s=JSON.parse(localStorage.getItem("post"));r=s.content,e.value=s.title,t.value=s.desc,n.value=s.date,a.value=s.image,i.value=s.categories,l.value=s.tags,o.innerHTML=u.render(r),d.value=r}else{let e="# Hello World";o.innerHTML=u.render(e),d.value=e}}(),d.addEventListener("keyup",function(){o.innerHTML=u.render(d.value)}),s.addEventListener("click",function(){let o={title:e.value,desc:t.value,date:n.value,image:a.value,categories:i.value,tags:l.value,content:d.value};localStorage.setItem("post",JSON.stringify(o)),$("#toast").toast("show")}),r.addEventListener("click",function(){let o=new Date(n.value),r=o.toISOString().substr(0,10)+"-"+e.value.replace(/[^a-z0-9]/gi,"-").toLowerCase()+".md",s=o.toISOString().substr(0,19).replace("T"," "),u="---\nlayout: post\ntitle: "+e.value+"\ndescription: "+t.value+"\ndate: "+s+"\nimage: "+a.value+"\ncategories: ["+i.value+"]\ntags: ["+l.value+"]\n---\n\n"+d.value,c=new Blob([u],{type:"octet/stream"}),v=window.URL.createObjectURL(c);this.href=v,this.target="_blank",this.download=r})});